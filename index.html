<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Happy Birthday Hardik</title>
    
    <!-- Fonts: Cormorant Garamond (Premium Serif), DM Sans (Clean Sans), Great Vibes (Signature) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400&family=DM+Sans:wght@300;400;500&family=Great+Vibes&display=swap" rel="stylesheet">
    
    <!-- GSAP for Animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <style>
        /* --- VARIABLES & RESET --- */
        :root {
            --bg-color: #E8F8F5;      /* Soft Mint Turquoise */
            --white: #FFFFFF;         /* Pure White */
            --gold: #45B7D1;          /* Bright Teal */
            --gold-light: #7DD4E8;
            --text-main: #2a2a2a;     /* Softer Black for reading */
            --text-muted: #5a5a5a;
            --accent-pink: #B2EBF2;   /* Light Cyan */
            --paper-color: #F0FBFF;   /* Cool white with blue tint for letter */
            
            --font-heading: 'Cormorant Garamond', serif;
            --font-body: 'DM Sans', sans-serif;
            --font-signature: 'Great Vibes', cursive;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent; /* Remove blue tap box on mobile */
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-main);
            font-family: var(--font-body);
            overflow: hidden; 
            height: 100vh;
            width: 100vw;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* --- BACKGROUND PARTICLES --- */
        #canvas-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }

        /* --- LAYOUT CONTAINER --- */
        .container {
            width: 100%;
            max-width: 650px; /* Optimal width for reading */
            height: 100%;
            position: relative;
            padding: 2rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        /* --- SECTIONS --- */
        section {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 1.5rem;
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
            transition: opacity 0.5s ease;
        }

        section.active {
            opacity: 1;
            visibility: visible;
            pointer-events: all;
            z-index: 10;
        }

        /* --- TYPOGRAPHY --- */
        h1, h2, h3 {
            font-family: var(--font-heading);
            color: var(--text-main);
            line-height: 1.1;
            margin-bottom: 1.5rem;
        }

        h1 { font-size: 3.5rem; font-weight: 700; letter-spacing: -1px; }
        h2 { font-size: 2.2rem; font-weight: 600; }
        h3 { font-size: 1.5rem; font-weight: 500; font-style: italic; }

        p {
            font-size: 1.1rem;
            line-height: 1.6;
            color: var(--text-muted);
            margin-bottom: 2rem;
            max-width: 90%;
        }
        
        .highlight { color: var(--gold); font-style: italic; }

        /* --- BUTTONS --- */
        .btn {
            background: transparent;
            color: var(--text-main);
            font-family: var(--font-body);
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-size: 0.85rem;
            padding: 14px 35px;
            border: 1px solid var(--gold);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            z-index: 1;
            margin-top: 10px;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0; left: 0; width: 0%; height: 100%;
            background: var(--gold);
            z-index: -1;
            transition: width 0.3s ease;
        }

        .btn:hover { color: var(--white); border-color: var(--gold); }
        .btn:hover::before { width: 100%; }
        .btn:active { transform: scale(0.95); }

        /* --- INPUTS --- */
        input[type="text"] {
            background: transparent;
            border: none;
            border-bottom: 1px solid var(--gold);
            padding: 10px;
            font-family: var(--font-heading);
            font-size: 1.3rem;
            text-align: center;
            width: 80%;
            color: var(--text-main);
            outline: none;
            margin-bottom: 2rem;
            border-radius: 0; /* Remove iOS round corners */
        }
        
        /* --- CARDS & GRIDS --- */
        .grid-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            width: 100%;
            margin-bottom: 20px;
        }
        
        .grid-item {
            background: var(--white);
            height: 90px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 8px;
            border: 1px solid rgba(221, 182, 125, 0.3);
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            font-size: 0.85rem;
            position: relative;
            overflow: hidden;
            border-radius: 6px;
        }

        .grid-item.locked { background: rgba(255, 255, 255, 0.5); color: var(--gold); font-size: 1.4rem; }
        .grid-item.unlocked { background: var(--white); color: var(--text-main); border-color: var(--gold); box-shadow: 0 4px 15px rgba(221, 182, 125, 0.2); }
        .hidden-content { display: none; font-size: 0.8rem; line-height: 1.3; }

        /* --- SPECIFIC PAGE STYLES --- */
        
        /* Page 6: Countdown */
        .countdown-timer {
            font-family: var(--font-heading);
            font-size: 2.2rem;
            color: var(--gold);
            margin: 20px 0;
        }
        .timer-label {
            font-family: var(--font-body);
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: #ccc;
            margin-top: 5px;
        }

        /* Page 7: The Letter (Paper Style) */
        .letter-container {
            background: var(--paper-color);
            padding: 2.5rem 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            width: 100%;
            max-height: 75vh;
            overflow-y: auto;
            position: relative;
            text-align: left;
            border-radius: 2px;
            /* Subtle texture effect */
            background-image: linear-gradient(var(--paper-color) 0%, var(--paper-color) 100%), url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0IiBoZWlnaHQ9IjQiPgo8cmVjdCB3aWR0aD0iNCIgaGVpZ2h0PSI0IiBmaWxsPSIjZmZmOWYwIi8+CjxwYXRoIGQ9M00xIDNoMnYxSDF6IiBmaWxsPSIjZjRmMGU2IiBmaWxsLW9wYWNpdHk9IjAuMDUiLz4KPC9zdmc+');
        }
        
        .letter-content {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.25rem;
            line-height: 1.7;
            color: #2c2c2c;
        }
        
        .letter-content p {
            text-indent: 0;
            margin-bottom: 1.2rem;
            color: #2c2c2c;
            max-width: 100%;
        }

        .signature-block {
            margin-top: 3rem;
            text-align: right;
            padding-right: 1rem;
        }

        .with-love {
            font-family: 'Cormorant Garamond', serif;
            font-style: italic;
            font-size: 1.1rem;
            color: #555;
            display: block;
            margin-bottom: 0.2rem;
        }

        .signature-name {
            font-family: var(--font-signature);
            font-size: 2rem;
            color: var(--text-main);
        }

        /* Scrollbar for letter */
        .letter-container::-webkit-scrollbar { width: 6px; }
        .letter-container::-webkit-scrollbar-thumb { background-color: #e0d0b8; border-radius: 3px; }

        /* Page 11: Video Container */
        .video-container {
            width: 100%;
            max-width: 450px;
            height: 80vh;
            max-height: 800px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .video-container video {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: 8px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.15);
        }

        /* --- MOBILE OPTIMIZATION (UPDATED) --- */
        @media (max-width: 480px) {
            h1 { font-size: 2.2rem; line-height: 1.2; width: 100%; }
            h2 { font-size: 1.6rem; width: 100%; }
            h3 { font-size: 1.3rem; }
            
            /* Better text fitting for mobile */
            p { 
                font-size: 0.95rem; 
                max-width: 100%; 
                padding: 0 5px;
            }
            
            /* Tighter container for small screens */
            .container { 
                padding: 1rem; 
                max-width: 100%; 
            }
            
            /* Ensure sections don't overflow horizontally */
            section {
                padding: 1rem;
                box-sizing: border-box;
                width: 100vw;
            }
            
            .grid-container { grid-template-columns: 1fr 1fr; gap: 8px; }
            .grid-item { height: 70px; font-size: 0.75rem; }
            
            .letter-container { padding: 1.5rem 1rem; max-height: 65vh; }
            .letter-content { font-size: 1.1rem; }
            
            .btn { padding: 12px 25px; font-size: 0.75rem; width: auto; max-width: 100%; }
            
            .video-container {
                max-width: 100%;
                height: 60vh;
            }
            
            input[type="text"] {
                width: 90%;
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body>

    <!-- AUDIO PLAYER (Hidden) -->
    <!-- Path updated to relative path to ensure file loading from GitHub -->
    <audio id="bg-music" loop>
        <source src="./song.mp3" type="audio/mp3">
    </audio>

    <!-- Background Canvas for Particles -->
    <canvas id="canvas-bg"></canvas>

    <div class="container">

        <!-- PAGE 1: HERO -->
        <section id="page-1" class="active">
            <h1 class="hero-title">Happy Birthday, <br><span class="highlight">Hardik</span></h1>
            <p style="font-size: 1.1rem; opacity: 0.9; margin-top: 10px;">
                Celebration of your chaotic grace, your bitter imperfections, the hard darkness that you carry everywhere you go
            </p>
            <button class="btn" onclick="startExperience()">Enter the Experience</button>
        </section>

        <!-- PAGE 2: WISH 1 -->
        <section id="page-2">
            <h2 style="margin-bottom: 30px;">
                The world is a better place simply because you are here.
            </h2>
            <div style="font-size: 2rem; color: var(--gold); margin-top: 30px;">‚ú®</div>
            <button class="btn" style="margin-top: 40px;" onclick="nextSection(2)">Next</button>
        </section>

        <!-- PAGE 3: WISH 2 -->
        <section id="page-3">
            <h2 style="margin-bottom: 30px;">
                Your presence brings warmth, and your company helps people become better versions of themselves.
            </h2>
            <button class="btn" style="margin-top: 40px;" onclick="nextSection(3)">Next</button>
        </section>

        <!-- PAGE 4: TEASE -->
        <section id="page-4">
            <h2>Let me tell you something...</h2>
            <button class="btn" onclick="nextSection(4)">What?</button>
        </section>

        <!-- PAGE 5: 10 THINGS -->
        <section id="page-5">
            <h3 style="margin-bottom: 25px; color: var(--gold);">10 things I would like to say to you as a wonderful friend</h3>
            <div class="grid-container" id="grid-things">
                <!-- JS will inject items here -->
            </div>
            <button class="btn" id="btn-page-5" style="display:none; margin-top: 20px;" onclick="nextSection(5)">Continue the Journey</button>
        </section>

        <!-- PAGE 6: COUNTDOWN -->
        <section id="page-6" style="background: linear-gradient(to bottom, #1a1a2e, #16213e); color: white;">
            <h2 style="color: #fff; opacity: 0.9;">The Journey</h2>
            <p style="color: #ccc; max-width: 500px;">It was 11 December 2022, when we first exchanged words... and that small moment brought us all the way here.</p>
            
            <div class="countdown-timer">
                <div id="timer-display">000 Days</div>
                <div class="timer-label">Since we started talking</div>
            </div>
            
            <button class="btn" style="border-color: rgba(255,255,255,0.5); color: white; margin-top: 30px;" onclick="nextSection(6)">Next</button>
        </section>

        <!-- PAGE 7: LETTER -->
        <section id="page-7">
            <div class="letter-container">
                <div class="letter-content">
                    <p><strong>Happy Birthday, dear Hardik ‚ù§Ô∏è</strong></p>

                    <p>I really value you a lot in my life. You have always helped and supported me whenever I needed it. I truly appreciate everything you have done for me ü©∑</p>

                    <p>I never knew friendship could feel so special, but with you, I experienced one of the best friendships of my life üíÆ</p>

                    <p>You helped me explore sides of myself I did not know existed. You saw the good in me when I could not see it myself ü•π</p>

                    <p>You are a truly valuable person to have in someone‚Äôs life. Your presence matters. Stay who you are and keep shining....‚ú®‚ú®</p>

                    <p>You are a star. And stars always shine ü™Ñü´Ç</p>
                    
                    <div class="signature-block">
                        <span class="signature-name">~Yashika</span>
                    </div>
                </div>
            </div>
            <button class="btn" style="margin-top: 20px;" onclick="nextSection(7)">Next</button>
        </section>

        <!-- PAGE 8: GIFT INTRO -->
        <section id="page-8">
            <h2>Surprise ü´¢</h2>
            <p>I have a special gift for you... but to unlock it, you need to type the magic words.</p>
            <button class="btn" onclick="nextSection(8)">Unlock Gift</button>
        </section>

        <!-- PAGE 9: INPUT VERIFICATION -->
        <section id="page-9">
            <h3 style="font-weight: 400; margin-bottom: 5px;">Type exactly:</h3>
            <p class="highlight" style="font-size: 1rem; margin-bottom: 25px;">"You are my bestfriend"</p>
            <input type="text" id="magic-input" placeholder="Type here..." autocomplete="off">
            <button class="btn" onclick="checkInput()">Submit</button>
        </section>

        <!-- PAGE 10: TEASE LINE -->
        <section id="page-10">
            <h2>Do you know what, Hardik?</h2>
            <button class="btn" onclick="nextSection(10)">Next</button>
        </section>

        <!-- PAGE 11: VIDEO -->
        <section id="page-11">
            <div class="video-container">
                <video id="birthday-video" controls playsinline>
                    <source src="./birthday-video.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>
            <button class="btn" style="margin-top: 20px;" onclick="nextSection(11)">Next</button>
        </section>

        <!-- PAGE 13: ENDING -->
        <section id="page-13">
            <div style="padding: 2rem; background: #fff; box-shadow: 0 10px 40px rgba(0,0,0,0.1); border-radius: 8px;">
                <h2 style="color: var(--gold);">Have a beautiful day, Hardik ‚ù§Ô∏è</h2>
                <p>Enjoy your birthday and your life. Wishing you every ounce of happiness üòä</p>
                <p>Carpe diem. Take care. Shine and slay ‚ù§Ô∏è‚ù§Ô∏è</p>
            </div>
        </section>

    </div>

    <script>
        /* --- STATE MANAGEMENT --- */
        let currentSection = 1;
        const totalSections = 13;

        /* --- 10 THINGS DATA --- */
        const things = [
            "You are attention seeker üëÄ",
            "You are so good that I wanna molest you üòã",
            "You are understanding ü´∂",
            "You are honest and real ‚ú®",
            "You make fake promises üôÇ",
            "You are supportive üôå",
            "You are genuine",
            "You are emotionally strong and mature üßò",
            "You are someone whose personality I admire üëë",
            "You are a positive presence in my life ‚òÄÔ∏è"
        ];
        let unlockedThings = 0;

        /* --- INITIALIZATION --- */
        document.addEventListener('DOMContentLoaded', () => {
            initParticles();
            initThingsGrid();
            startCountdown();
            
            // Hero Animation
            gsap.from(".hero-title", { duration: 1.5, y: 50, opacity: 0, ease: "power3.out" });
            gsap.from(".hero-title span", { duration: 1.5, color: "#FFF", delay: 0.5 });
            gsap.from("#page-1 p", { duration: 1.5, opacity: 0, delay: 1 });
        });

        /* --- AUDIO & START --- */
        function startExperience() {
            // Play Music
            const audio = document.getElementById('bg-music');
            audio.volume = 0.3; // 30% Volume
            
            // NOTE: .play() needs to be triggered by user interaction.
            audio.play().catch(error => {
                console.log("Audio play failed, showing prompt if supported.");
            });
            
            // Go to next section
            nextSection(1);
        }

        /* --- NAVIGATION --- */
        function nextSection(current) {
            let next = current + 1;
            
            // Skip page 12 (removed page)
            if (next === 12) {
                next = 13;
            }
            
            const currentEl = document.getElementById(`page-${current}`);
            const nextEl = document.getElementById(`page-${next}`);
            const bgMusic = document.getElementById('bg-music');
            const video = document.getElementById('birthday-video');

            // Handle transition TO Page 11 (Video)
            if (next === 11) {
                handleVideoPageTransition(currentEl, nextEl);
                return;
            }

            // Handle transition FROM Page 11 (Video) TO Page 13 (Ending)
            if (current === 11 && next === 13) {
                video.pause(); // Force stop video
                bgMusic.play(); // IMMEDIATE resume of background music (no fade)
            }

            // GSAP Exit Animation
            gsap.to(currentEl, {
                duration: 0.6,
                opacity: 0,
                y: -30,
                ease: "power2.in",
                onComplete: () => {
                    currentEl.classList.remove('active');
                    nextEl.classList.add('active');
                    
                    // Reset position for entrance
                    gsap.set(nextEl, { y: 30, opacity: 0 });
                    
                    // GSAP Entrance Animation
                    gsap.to(nextEl, {
                        duration: 0.8,
                        opacity: 1,
                        y: 0,
                        ease: "power2.out"
                    });

                    // Special Page Triggers
                    if(next === 7) animateLetter();
                }
            });
        }

        /* --- PAGE 11: VIDEO PAGE TRANSITION --- */
        /* MODIFIED: IMMEDIATE STOP OF AUDIO, NO FADE */
        function handleVideoPageTransition(currentEl, nextEl) {
            const bgMusic = document.getElementById('bg-music');
            const video = document.getElementById('birthday-video');

            // IMMEDIATE PAUSE (Hard Cut)
            bgMusic.pause();
            
            // Transition to next page
            gsap.to(currentEl, {
                duration: 0.6,
                opacity: 0,
                y: -30,
                ease: "power2.in",
                onComplete: () => {
                    currentEl.classList.remove('active');
                    nextEl.classList.add('active');
                    
                    // Reset position for entrance
                    gsap.set(nextEl, { y: 30, opacity: 0 });
                    
                    // GSAP Entrance Animation
                    gsap.to(nextEl, {
                        duration: 0.8,
                        opacity: 1,
                        y: 0,
                        ease: "power2.out",
                        onComplete: () => {
                            // Auto play video
                            video.play().catch(error => {
                                console.log("Video autoplay failed");
                            });
                        }
                    });
                }
            });
        }

        /* --- PAGE 5: 10 THINGS LOGIC --- */
        function initThingsGrid() {
            const container = document.getElementById('grid-things');
            things.forEach((thing, index) => {
                const item = document.createElement('div');
                item.className = 'grid-item locked';
                item.innerHTML = `<span class="lock-icon">üîí</span><span class="hidden-content">${thing}</span>`;
                item.onclick = () => revealThing(item);
                container.appendChild(item);
            });
        }

        function revealThing(element) {
            if (!element.classList.contains('locked')) return;

            element.classList.remove('locked');
            element.classList.add('unlocked');
            
            const content = element.querySelector('.hidden-content');
            const icon = element.querySelector('.lock-icon');
            
            icon.style.display = 'none';
            content.style.display = 'block';

            // Pop animation
            gsap.from(element, { scale: 0.9, duration: 0.3, ease: "back.out(1.7)" });

            unlockedThings++;
            if (unlockedThings === things.length) {
                gsap.to("#btn-page-5", { display: "inline-block", opacity: 1, duration: 0.5, delay: 0.5 });
            }
        }

        /* --- PAGE 6: COUNTDOWN LOGIC --- */
        function startCountdown() {
            const startDate = new Date('2022-12-11T11:01:01');
            const display = document.getElementById('timer-display');

            setInterval(() => {
                const now = new Date();
                const diff = now - startDate;

                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((diff % (1000 * 60)) / 1000);

                display.innerText = `${days}d ${hours}h ${minutes}m ${seconds}s`;
            }, 1000);
        }

        /* --- PAGE 7: LETTER ANIMATION --- */
        function animateLetter() {
            gsap.from(".letter-container", {
                y: 50,
                opacity: 0,
                duration: 1.5,
                ease: "power3.out",
                delay: 0.2
            });
        }

        /* --- PAGE 9: INPUT LOGIC --- */
        function checkInput() {
            const input = document.getElementById('magic-input');
            const val = input.value.trim().toLowerCase().replace(/\s+/g, ' '); 
            const correct = "you are my bestfriend";

            if (val === correct) {
                nextSection(9);
            } else {
                gsap.to(input, { x: -10, duration: 0.1, yoyo: true, repeat: 5 });
                input.style.borderBottomColor = "#d68c92"; // Pinkish red
                setTimeout(() => input.style.borderBottomColor = "var(--gold)", 1000);
            }
        }

        /* --- BACKGROUND PARTICLES --- */
        function initParticles() {
            const canvas = document.getElementById('canvas-bg');
            const ctx = canvas.getContext('2d');
            
            function resize() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }
            resize();
            window.addEventListener('resize', resize);

            const particles = [];
            
            class Particle {
                constructor() {
                    this.x = Math.random() * canvas.width;
                    this.y = Math.random() * canvas.height;
                    this.size = Math.random() * 2;
                    this.speedX = Math.random() * 0.5 - 0.25;
                    this.speedY = Math.random() * 0.5 - 0.25;
                    this.color = `rgba(221, 182, 125, ${Math.random() * 0.4})`; 
                }
                update() {
                    this.x += this.speedX;
                    this.y += this.speedY;
                    if (this.size > 0.2) this.size -= 0.01; 
                    else this.size += 0.01; 
                    
                    if (this.x > canvas.width || this.x < 0) this.speedX *= -1;
                    if (this.y > canvas.height || this.y < 0) this.speedY *= -1;
                }
                draw() {
                    ctx.fillStyle = this.color;
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                    ctx.fill();
                }
            }

            for (let i = 0; i < 40; i++) particles.push(new Particle());

            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                particles.forEach(p => { p.update(); p.draw(); });
                requestAnimationFrame(animate);
            }
            animate();
        }
    </script>
</body>
</html>
